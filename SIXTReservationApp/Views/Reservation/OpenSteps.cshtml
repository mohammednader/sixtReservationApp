
@{
    ViewData["Title"] = "steps";
}
<style>
    #email-parallel-error, #password-parallel-error {
        font-size: 12.8px;
        font-size: .8rem;
        font-weight: 500;
        color: red !important;
        top: -20px !important;
    }

    ul.stepper .step-title:after {
        display: none;
    }
</style>
<div class="ibox  mt-2">
    <div class="ibox-head"><div class="ibox-title"> Reservation number @ViewBag.ReservationId steps</div></div>

    <div class="ibox-body">
        <ul class="stepper linear <!--parallel-->">




            <li id="li_step_1" class="step">

                <div data-step-label="Type something" class="step-title waves-effect waves-dark">Send notification</div>

                <div id="step_1" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>





            <li id="li_step_2" class="step">
                <div class="step-title waves-effect waves-dark">Assign Branch Agent </div>
                <div id="step_2" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>

            <li id="li_step_3" class="step">
                <div class="step-title waves-effect waves-dark">Form Submit</div>
                <div id="step_3" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
                @*<div class="step-new-content">
                Finish!
                <div class="step-actions">
                    <button class="waves-effect waves-dark btn-sm  btn btn-primary m-0 mt-4" type="button">SUBMIT</button>
                </div>
            </div>*@

            </li>
            <li id="li_step_4" class="step">
                <div class="step-title waves-effect waves-dark">Assign Contact Center Agent</div>
                <div id="step_4" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <li id="li_step_5" class="step">
                <div class="step-title waves-effect waves-dark">Contact Center Form Submit  </div>
                <div id="step_5" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <li id="li_step_6" class="step">
                <div class="step-title waves-effect waves-dark">Fill Customer Form</div>
                <div id="step_6" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <li id="li_step_7" class="step">
                <div class="step-title waves-effect waves-dark">Send Confirmation Email</div>
                <div id="step_7" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <li id="li_step_8" class="step">
                <div class="step-title waves-effect waves-dark">Assign Branch Agent</div>
                <div id="step_8" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <li id="li_step_9" class="step">
                <div class="step-title waves-effect waves-dark">Branch Agent Form Submit</div>
                <div id="step_9" class="step-new-content" style="display: block;">
                    <!--your content here-->
                </div>
            </li>
            <a href="@Url.Action("OpenIndex", "Reservation")" class="btn btn-link  float-right">Back to list</a>
        </ul>
    </div>
</div>

<script>
    var CurrentStep=@ViewBag.CurrentStep;
    var ReservationId =@ViewBag.ReservationId;
    var ActiveBeforeSteps =@ViewBag.ActiveBeforeSteps;

    $(document).ready(function () {
        $('.stepper').mdbStepper();
        GetSteps();
        GetFirstStep();


    })
</script>
<script>
    function GetSteps()
    {
        if (CurrentStep == 8 && ActiveBeforeSteps == 1)
        {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').removeClass("active");
            $('#li_step_7').addClass("done");
            $('#step_7').css("display", "none");
            $('#li_step_8').removeClass("active");
            $('#li_step_8').addClass("done");
            $('#step_8').css("display", "none");
            $('#li_step_9').addClass("active");
            getStepNine();
            getStepEight();
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 8 && ActiveBeforeSteps == 0)
        {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').removeClass("active");
            $('#li_step_7').addClass("done");
            $('#step_7').css("display", "none");
            $('#li_step_8').removeClass("active");
            $('#li_step_8').addClass("done");
            $('#step_8').css("display", "none");
            $('#li_step_9').addClass("active");
            getStepNine();
            getStepEight();
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
        }

        if (CurrentStep == 7 && ActiveBeforeSteps == 1) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').removeClass("active");
            $('#li_step_7').addClass("done");
            $('#step_7').css("display", "none");
            $('#li_step_8').addClass("active");
            getStepEight();
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 7 && ActiveBeforeSteps == 0) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').removeClass("active");
            $('#li_step_7').addClass("done");
            $('#step_7').css("display", "none");
            $('#li_step_8').addClass("active");
            getStepEight();
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
        }

        if (CurrentStep == 6 && ActiveBeforeSteps == 1) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').addClass("active");
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 6 && ActiveBeforeSteps == 0) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').removeClass("active");
            $('#li_step_6').addClass("done");
            $('#step_6').css("display", "none");
            $('#li_step_7').addClass("active");
            getStepSeven();
            getStepSix();
            getStepFive();
            getStepFour();
        }



        if (CurrentStep == 5 && ActiveBeforeSteps == 1) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').addClass("active");
            getStepSix();
            getStepFive();
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 5 && ActiveBeforeSteps == 0) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').removeClass("active");
            $('#li_step_5').addClass("done");
            $('#step_5').css("display", "none");
            $('#li_step_6').addClass("active");
            getStepSix();
            getStepFive();
            getStepFour();
        }

        if (CurrentStep == 4 && ActiveBeforeSteps == 1) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').addClass("active");
            getStepFive();
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 4 && ActiveBeforeSteps == 0)
        {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').removeClass("active");
            $('#li_step_4').addClass("done");
            $('#step_4').css("display", "none");
            $('#li_step_5').addClass("active");
            getStepFive();
            getStepFour();
        }


        if (CurrentStep == 3 && ActiveBeforeSteps == 1)
        {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').addClass("active");
            $('#step_5').removeClass("step");
            getStepFour();
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 3 && ActiveBeforeSteps == 0) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').removeClass("active");
            $('#li_step_3').addClass("done");
            $('#step_3').css("display", "none");
            $('#li_step_4').addClass("active");
            $('#step_5').removeClass("step");
            getStepFour();
        }
        if (CurrentStep == 2 && ActiveBeforeSteps == 0) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').addClass("active");
            $('#step_4').removeClass("step");
            $('#step_5').removeClass("step");
            getthirdStep();
        }
        if (CurrentStep == 2 && ActiveBeforeSteps == 1) {
            $('#li_step_2').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("done");
            $('#step_2').css("display", "none");
            $('#li_step_3').addClass("active");
            $('#step_4').removeClass("step");
            $('#step_5').removeClass("step");
            getSecondStep();
            getthirdStep();
        }
        if (CurrentStep == 1) {
            $('#li_step_1').removeClass("active");
            $('#li_step_1').addClass("done");
            $('#step_1').css("display", "none");
            $('#li_step_2').addClass("active");
            $('#step_3').removeClass("step");
            $('#step_4').removeClass("step");
            $('#step_5').removeClass("step");
            getSecondStep();
        }
        if (CurrentStep == 0) {
            $('#li_step_1').addClass("active");
            $('#step_2').removeClass("step");
            $('#step_3').removeClass("step");
            $('#step_4').removeClass("step");
            $('#step_5').removeClass("step");

        }
    }
    async function GetFirstStep()
    {
         $.ajax({
            url: "/Reservation/_OpenNotify/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res)
                {
                    $('#step_1').append(res);
                }

                else
                {

                }
            },
            error: (x, y) => { console.log(x) }

        })
    }

    function getSecondStep()
    {
        console.log("2nd step")
        $.ajax({
            url: "/Reservation/_OpenAssignment/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_2').append(res);
                }
            },
            error: () => { }
        })
    }

    function getthirdStep()
    {
         console.log("3rd step")
        $.ajax({
            url: "/Reservation/_OpenFormSubmit/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_3').append(res);
                }
            },
            error: () => { }
        })

    }

    function getStepFour()
    {
         console.log("4th step")
        $.ajax({
            url: "/Reservation/_OpenCAgentManagementAssignment/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_4').append(res);
                }
            },
            error: () => { }
        })

    }

   function getStepFive()
    {
         console.log("5th step")
        $.ajax({
            url: "/Reservation/_OpenContactCenterFormSubmit/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_5').append(res);
                }
            },
            error: () => { }
        })

    }
    function getStepSix()
    {
       console.log("6th step")
        $.ajax({
            url: "/Reservation/_OpenFillCustomerForm/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_6').append(res);
                }
            },
            error: () => { }
        })


    }

    function getStepSeven()
    {
       console.log("7th step")
        $.ajax({
            url: "/Reservation/_OpenConfirmedSendEmailDone/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_7').append(res);
                }
            },
            error: () => { }
        })


    }
     function getStepEight()
    {
       console.log("8th step")
        $.ajax({
            url: "/Reservation/_OpenBranchAssignment/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_8').append(res);
                }
            },
            error: () => { }
        })


    }
     function getStepNine()
    {
       console.log("9th step")
        $.ajax({
            url: "/Reservation/_OpenBranchAgentFormSubmit/"+@ViewBag.ReservationId,
            type: "Get",
            success: (res) => {
                if (res) {
                    $('#step_9').append(res);
                }
            },
            error: () => { }
        })


    }

    function assignAgent()
    {
        var assignObj = {};
        assignObj.assigneeId = $('#assignDDL').val();
        assignObj.reservationId = @ViewBag.ReservationId;
        assignObj.currentStep = @ViewBag.CurrentStep
        assignObj.reservationNo= @ViewBag.ReservationId;

        $.ajax({
            url: '@Url.Action("OpenAssignAgent_Multiple", "Reservation")',
            method: 'Post',
            data: { assignObj},
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to Assign',
                    });

                }
            }
        });

    }
    function assignBranchAgent()
    {
        var assignObj = {};
        assignObj.assigneeId = $('#assignDDL').val();
        assignObj.reservationId = @ViewBag.ReservationId;
        assignObj.currentStep = @ViewBag.CurrentStep
        assignObj.reservationNo= @ViewBag.ReservationId;

        $.ajax({
            url: '@Url.Action("OpenAssignBranchAgent_Multiple", "Reservation")',
            method: 'Post',
            data: { assignObj},
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to Assign',
                    });

                }
            }
        });

    }

   function assignContactCenterAgent()
    {
        var assignObj = {};
        assignObj.assigneeId = $('#assignDDL').val();
        assignObj.reservationId = @ViewBag.ReservationId;
        assignObj.currentStep = @ViewBag.CurrentStep
        assignObj.reservationNo= @ViewBag.ReservationId;

        $.ajax({
            url: '@Url.Action("OpenAssignContactCenter_Multiple", "Reservation")',
            method: 'Post',
            data: { assignObj},
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to Assign',
                    });

                }
            }
        });

    }
    //Form Submit Deny
    function formSubmit()
    {
        var form = $('#formSubmit').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenFormSubmitted_Deny", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    //form submit Confirm
    function formConfirm()
    {
        form = 'ReservationId=@ViewBag.ReservationId';
          $.ajax({
            url: '@Url.Action("OpenFormSubmitted_Confirm", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    // Form Submit No Answer
    function formSubmit_NoAnswer()
    {
         var form = $('#formSubmit').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenFormSubmitted_NoAnswer", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    // form Submit Cancel
    function formSubmitCancel()
    {
        var form = $('#formSubmitCancel').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenFormSubmitted_Cancel", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });



    }

    function formConfirmedConfirm()
    {
         form = 'ReservationId=@ViewBag.ReservationId';
          $.ajax({
            url: '@Url.Action("OpenFormSubmitted_ConfirmedConfirm", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });
    }

    function formSubmit_CustomerForm()
    {
        var form = $('#customerForm').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenFormSubmitted_CustomerForm", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });
                    //$('.msgError').text('This field is required');

                }
            }
        });

    }


    //Form Submit No Response
    function formSubmit_NoResponse()
    {
        var form = $('#formSubmit_NoResponse').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenBranchAgentFormSubmitted_NoResponse", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    //form submit  Cancel By Customer
    function formSubmitCancelByCustomer()
    {
        var CancelBy = $("#AnswerDDL").val()
        var form = $('#formSubmitCancelByCustomer').serialize();
        form += '&ReservationId=@ViewBag.ReservationId&CancelBy=' + CancelBy;
        $.ajax({
            url: '@Url.Action("OpenBranchAgentFormSubmitted_Cancelled", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    // Form Submit Cancel By Sixt
    function formSubmitCancelBySixt()
    {
        var CancelBy = $("#AnswerDDL").val()
        var form = $('#formSubmitCancelBySixt').serialize();
        form += '&ReservationId=@ViewBag.ReservationId&CancelBy=' + CancelBy;
        $.ajax({
            url: '@Url.Action("OpenBranchAgentFormSubmitted_Cancelled", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });

    }
    // form Submit Confirm
    function formSubmitConfirmed()
    {
        var form = $('#formSubmitConfirm').serialize();
        form += '&ReservationId=@ViewBag.ReservationId';
        $.ajax({
            url: '@Url.Action("OpenBranchAgentFormSubmitted_Confirm", "Reservation")',
            method: 'Post',
            data: form ,
            success: response => {
                if (response && response.success) {
                    Swal.fire({
                        icon: 'success',
                        text: response.message,
                    }).then(res => { location.reload() });;
                } else {
                    Swal.fire({
                        icon: 'error',
                        text: (response && response.message) ? response.message : 'Failed to submit form',
                    });

                }
            }
        });



    }


</script>
